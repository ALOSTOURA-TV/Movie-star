<!DOCTYPE html>
<html dir="rtl">
<head><title>سيرفر البث الرئيسي</title></head>
<link rel="ICON" href="https://i.imgur.com/54DNXLH.png">
<body>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
@import url('https://fonts.googleapis.com/css2?family=Readex+Pro:wght@700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Almarai:wght@800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap');
@import "compass/css3";
</style>

<style type="text/css">

<style>
body {}
nav {
	
    position: fixed;
    margin-top:-60px;
    width: 100%;
    height: 60px;
    box-shadow: 3px rgba(0, 0, 0, 0.2);
    background: #FFF;
    display: flex;
    overflow-x: auto;
    z-index: 99999999999;}
</style>
<style type="text/css">
body {

user-select:none;
list-style:none;

}
#page {
margin-top:60px;
width:100%;
margin-bottom:10px;
}
</style>
</head>
<body dir="rtl">
<header>
</span>
</header>
<center>
<div id="page">
<nav class="nav">
<i nav=""><img src="https://raw.githack.com/ALOSTOURA-TV/img/main/main.png" style="width: 356px; height: 40px; border-radius: 10px; margin-right:-0%;margin-top: -5px;" /></i>

</i>
</nav>
</iframe>
</body>
</html>




</center>
<body>
<style type="text/css">
body {
background:#FFF;
padding:0;
margin:0;
}


#page i {
height:35px;
width:98%;
padding-top:8px;
padding-bottom:2px;
margin-bottom:0px;
border:2px solid rgba(188,17,21,255);
border-radius:15px;
display:inline-block;
margin-right:2px;
margin-left:0px;
margin-top:10px;
}

#page a {
height:35px;
width:98%;
padding-top:8px;
padding-bottom:2px;
margin-bottom:0px;
border:2px solid rgba(188,17,21,255);
border-radius:15px;
display:inline-block;
margin-right:2px;
margin-left:0px;
margin-top:10px;
}
#page a img {

margin-right:3px;
margin-top:-6px;

padding-bottom:0px;
}
#page a p {
text-align:center;
font-family: 'Readex Pro', sans-serif;
font-size: 12px;
position: absolute;
margin-right:24%;
margin-top:5px;
width: 50%;
display:inline-block;
font-weight:600;
color:rgba(188,17,21,255);
}
img {
width:42px;height:42px
}
#page a:hover {
    color: #fff;
    background: #210f80;
}
#page a:focus {
    color: #000;
    background: #fbd034;
}

</style>
</head>
<body dir="rtl">
<header>
</span>
</header>
<div id="page">
	
	

<a href="go:RMH1" ><p>قنوات الأخبار</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/19.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH3" ><p>قنوات الرياضة المصرية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/20.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:BEIN SPORT" ><p>بي ان سبورت F.HD</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/21.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:BEIN SPORT" ><p>بي ان سبورت H265 HD</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/21.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:BEIN SPORT" ><p>بي ان سبورت H265 SD</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/21.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:BEIN SPORT" ><p>بي ان سبورت H265 LOW</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/21.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH7" ><p>SSC SPORT</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/22.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH8" ><p>قنوات أبو ظبي الرياضية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/23.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH8" ><p>قنوات الكأس الرياضية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/24.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH9" ><p>بي ان الترفيهية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/25.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH10" ><p>شاهد  Vip</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/26.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:World Kids" ><p>WORLD KIDS</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/27.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH11" ><p>NETFLIX</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/28.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH12" ><p>الأسطورة أفلام</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/01.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH13" ><p>باقة OSN</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/29.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMH14" ><p>شبكة قنوات ART</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/30.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:TOPMUSIC" ><p>توب كليب</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/31.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:RMQH15" ><p>القنوات العربية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/32.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:PIUTO1" ><p>بلوتو TV</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/33.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:FRANCE1" ><p>القنوات الفرنسية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/34.png" style="height:42px;border-radius:100%;" /></a>
<a href="go:GERMANY1" ><p>القنوات الألمانية</p><img alt=""src="https://raw.githack.com/ALOSTOURA-TV/img/main/35.png" style="height:42px;border-radius:100%;" /></a>




</div>

<script>
    document.addEventListener("DOMContentLoaded", async function () {
        const CACHE_NAME = "image-cache-v2"; // اسم الكاش
        const defaultImage = "https://i.imgur.com/CXGiUgJ.jpg"; // صورة افتراضية
        const images = document.querySelectorAll("img");

        // 🟢 تحميل الصور عند فتح الصفحة
        for (let img of images) {
            const imgSrc = img.getAttribute("data-src") || img.src;
            const cachedImage = await getCachedImage(imgSrc);

            if (cachedImage) {
                img.src = cachedImage; // استخدام الصورة من الكاش أو localStorage
                console.log("✅ تحميل من الكاش:", imgSrc);
            } else {
                loadImageFromNetwork(img, imgSrc);
            }

            // 🟡 في حالة فشل تحميل الصورة، يتم استبدالها بالصورة الافتراضية
            img.onerror = function () {
                console.warn("⚠️ فشل تحميل الصورة، تعيين الصورة الافتراضية:", imgSrc);
                img.src = defaultImage;
            };
        }

        // 🟠 تحميل الصورة من الإنترنت وتخزينها
        async function loadImageFromNetwork(img, imgSrc) {
            try {
                const response = await fetch(imgSrc);
                if (!response.ok) throw new Error("❌ فشل تحميل الصورة من الشبكة.");

                const blob = await response.blob();
                const imageURL = URL.createObjectURL(blob);

                img.src = imageURL; // عرض الصورة
                await cacheImage(imgSrc, blob); // تخزين الصورة في الكاش

            } catch (error) {
                console.error("❌ خطأ في تحميل الصورة:", imgSrc, error);
                img.src = defaultImage;
            }
        }

        // 🔵 جلب الصورة من الكاش أو localStorage
        async function getCachedImage(imgSrc) {
            const cache = await caches.open(CACHE_NAME);
            const cachedResponse = await cache.match(imgSrc);

            if (cachedResponse) {
                return URL.createObjectURL(await cachedResponse.blob());
            } else {
                return localStorage.getItem(imgSrc);
            }
        }

        // 🔵 تخزين الصورة في `Cache API` و `localStorage`
        async function cacheImage(imgSrc, blob) {
            const cache = await caches.open(CACHE_NAME);
            cache.put(imgSrc, new Response(blob)); // تخزين الصورة في الكاش

            // تخزين الصورة في `localStorage` إذا كان الحجم صغيرًا
            const reader = new FileReader();
            reader.onloadend = function () {
                try {
                    localStorage.setItem(imgSrc, reader.result);
                } catch (e) {
                    console.warn("⚠️ localStorage ممتلئ، الصورة لن يتم تخزينها.");
                }
            };
            reader.readAsDataURL(blob);
        }

        // 🟣 عند فقد الاتصال، تحميل الصور من الكاش أو localStorage
        window.addEventListener("offline", async () => {
            console.warn("📴 الوضع غير متصل بالإنترنت، تحميل الصور من التخزين...");
            for (let img of images) {
                const imgSrc = img.getAttribute("data-src") || img.src;
                const cachedImage = await getCachedImage(imgSrc);
                if (cachedImage) {
                    img.src = cachedImage;
                }
            }
        });

        // 🟢 عند استعادة الإنترنت، يتم تحديث الصور
        window.addEventListener("online", async () => {
            console.log("📡 استعادة الإنترنت، تحديث الصور...");
            for (let img of images) {
                const imgSrc = img.getAttribute("data-src") || img.src;
                loadImageFromNetwork(img, imgSrc);
            }
        });
    });
</script>
</body>
</html>
